{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '43795533-00e69c3734dde476e8d836fd2';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport const returnPromise = wordSearch => {\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: wordSearch,\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${BASE_URL}?${searchParams.toString()}`).then(response => {\n    if (!response.ok) {\n      throw new Error();\n    }\n    return response.json();\n  });\n};\n","export const returnMarkup = arrSearchPhotos => {\n  const markup = arrSearchPhotos\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `<li class=\"search-list-item\">\n                    <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                      <img class=\"search-list-img\" src=\"${webformatURL}\" alt=\"${tags}\" />\n                    </a>\n                    <ul>\n                      <li>\n                        <h3>Likes</h3>\n                        <p>${likes}</p>\n                      </li>\n                      <li>\n                        <h3>Views</h3>\n                        <p>${views}</p>\n                      </li>\n                      <li>\n                        <h3>Comments</h3>\n                        <p>${comments}</p>\n                      </li>\n                      <li>\n                        <h3>Downloads</h3>\n                        <p>${downloads}</p>\n                      </li>\n                    </ul>\n                  </li>`;\n      }\n    )\n    .join('');\n  return markup;\n};\n","import { returnPromise } from './js/pixabay-api';\nimport { returnMarkup } from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst elSearchForm = document.querySelector('.js-search-form');\nconst elSearchList = document.querySelector('.js-search-list');\nconst elLoader = document.querySelector('.js-loader');\n\nelSearchForm.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const searchInpVal = elSearchForm.elements.enterForSearsh.value.trim();\n  if (!searchInpVal) return;\n  elSearchList.innerHTML = '';\n  elLoader.classList.add('loader-active');\n\n  returnPromise(searchInpVal)\n    .then(response => {\n      if (!response.total) {\n        iziToast.error({\n          position: 'topRight',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n        elSearchForm.reset();\n        return;\n      }\n\n      elSearchList.innerHTML = `${returnMarkup(response.hits)}`;\n      lightbox.refresh();\n    })\n    .catch(error => console.log(error))\n    .finally(() => elLoader.classList.remove('loader-active'));\n});\n\nconst lightbox = new SimpleLightbox('.gallery-link', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n"],"names":["API_KEY","BASE_URL","returnPromise","wordSearch","searchParams","response","returnMarkup","arrSearchPhotos","webformatURL","largeImageURL","tags","likes","views","comments","downloads","elSearchForm","elSearchList","elLoader","event","searchInpVal","iziToast","lightbox","error","SimpleLightbox"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEJC,EAAgBC,GAAc,CACzC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAKJ,EACL,EAAGG,EACH,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGF,CAAQ,IAAIG,EAAa,SAAQ,CAAE,EAAE,EAAE,KAAKC,GAAY,CACtE,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAEZ,OAAOA,EAAS,MACpB,CAAG,CACH,ECjBaC,EAAeC,GACXA,EACZ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA,oDACqCL,CAAa;AAAA,0DACPD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,6BAKvDC,CAAK;AAAA;AAAA;AAAA;AAAA,6BAILC,CAAK;AAAA;AAAA;AAAA;AAAA,6BAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,6BAIRC,CAAS;AAAA;AAAA;AAAA,wBAKjC,EACA,KAAK,EAAE,EC9BNC,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAW,SAAS,cAAc,YAAY,EAEpDF,EAAa,iBAAiB,SAAUG,GAAS,CAC/CA,EAAM,eAAc,EAEpB,MAAMC,EAAeJ,EAAa,SAAS,eAAe,MAAM,OAC3DI,IACLH,EAAa,UAAY,GACzBC,EAAS,UAAU,IAAI,eAAe,EAEtCf,EAAciB,CAAY,EACvB,KAAKd,GAAY,CAChB,GAAI,CAACA,EAAS,MAAO,CACnBe,EAAS,MAAM,CACb,SAAU,WACV,QACE,0EACZ,CAAS,EACDL,EAAa,MAAK,EAClB,MACD,CAEDC,EAAa,UAAY,GAAGV,EAAaD,EAAS,IAAI,CAAC,GACvDgB,EAAS,QAAO,CACtB,CAAK,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAML,EAAS,UAAU,OAAO,eAAe,CAAC,EAC7D,CAAC,EAED,MAAMI,EAAW,IAAIE,EAAe,gBAAiB,CACnD,aAAc,MACd,aAAc,GAChB,CAAC"}